$ var userPromise = new Promise(function(resolve, reject) {
    setTimeout(function() {
        resolve({});
    }, 10);
});
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Marko Components Tests</title>
    </head>
    <body>
        <div id="testsTarget"/>
        <await(userPromise)>
            <@then|user|>
                <app-hello name="hello1"/>
            </@then>
        </await>
        <await(userPromise)>
            <@then|user|>
                <app-hello name="hello2"/>
            </@then>
        </await>
        <app-hello name="hello3"/>
    </body>
</html>