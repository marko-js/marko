"use strict";

const req = require("@internal/require");
let fallback;
module.exports = !require.extensions[".marko"]
  ? require("./fallback-node")
  : function load(templatePath, templateSrc, options) {
      switch (arguments.length) {
        case 1:
          return req(templatePath);
        case 2:
          return (fallback = fallback || require("./fallback-node"))(
            templatePath,
            templateSrc
          );
        case 3:
          return (fallback = fallback || require("./fallback-node"))(
            templatePath,
            templateSrc,
            options
          );
      }
    };
